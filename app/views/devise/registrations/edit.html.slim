.page-header
  h3
  	| Edit&nbsp;
  	= resource_name.to_s.humanize
p
  = simple_form_for(resource, as: resource_name, url: registration_path(resource_name), defaults: { input_html: { class: 'form-control' } }, html: { method: :put ,class: 'form-horizontal' }) do |f|
    = f.error_notification
    = f.input :email, required: true, autofocus: true
    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
        p= "Currently waiting confirmation for: #{resource.unconfirmed_email}"
    = f.input :pushover_key
    = f.input :password, autocomplete: "off", hint: "leave it blank if you don't want to change it", required: false
    = f.input :password_confirmation, required: false
    = f.input :current_password, hint: "we need your current password to confirm your changes", required: true
    .form-group
      .col-sm-offset-2.col-sm-8
        = f.button :submit, "Update", class: 'btn btn-info'
        = render partial: 'devise/registrations/pushover_test_btn' if resource.pushover_key != nil
          
.page-header
  h3 My Nicknames
ul.col-sm-offset-2.col-sm-10 style='list-style:none; padding-left: 5px'
  - resource.source_list.each do |nickname|
    li
      .btn-group
         = link_to '@'+nickname, by_path(nickname), class: 'btn btn-info', style: 'background-color: coral; border-color: coral'
         = link_to 'revert', revert_by_path(nickname), method: :post, class: 'btn btn-warning'
.page-header
  h3 My Quotes
ul.col-sm-offset-2.col-sm-10 style='list-style:none; padding-left: 5px'
  - resource.quotes.each do |quote|
    li= render partial: 'quotes/show', locals:{quote:quote,action_bar:false}
.page-header
  h3 Cancel my account
p.col-sm-offset-2.col-sm-10
  | Unhappy?&nbsp;
  = link_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete
p
  = link_to "Back", :back, class: 'btn btn-default'
